"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[470],{9470:function(e,t,a){a.r(t),a.d(t,{default:function(){return m}});var l=a(7437),s=a(2265),r=a(9842),n=a(5186),i=a(6827),o=a(4555),u=a(1838);async function d(e,t,a){try{let l=await (0,r.ET)((0,r.hJ)(i.db,"messages"),{name:e,email:t,message:a,timestamp:(0,r.Bt)()});return console.log("Document written with ID: ",l.id),!0}catch(e){return console.error("Error adding document:",e),!1}}function m(){let[e,t]=(0,s.useState)(""),[a,r]=(0,s.useState)(""),[i,m]=(0,s.useState)(""),[c,b]=(0,s.useState)(!1),{user:g}=(0,u.useAuth)();(0,s.useEffect)(()=>{let e=(0,n.v0)();e.currentUser?(b(!0),r(e.currentUser.email),alert("You are logged in as "+e.currentUser.displayName)):alert("You are not logged in! Please log in to submit the form.")},[]);let h=async a=>{if(a.preventDefault(),!g){alert("You are not logged in! Please log in to submit the form.");return}await d(e,g.email,i)?(t(""),m(""),alert("Data added to Firestore successfully")):alert("Failed to add data. Please try again.")};return(0,l.jsxs)("form",{onSubmit:h,className:"max-w-md mx-auto p-4 bg-white shadow-md",children:[(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("label",{htmlFor:"name",className:"block text-gray-700 font-bold mb-2",children:"Name:"}),(0,l.jsx)(o.Z,{id:"outlined-basic",label:"Enter name",variant:"outlined",value:e,onChange:e=>t(e.target.value)})]}),(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("label",{htmlFor:"message",className:"block text-gray-700 font-bold mb-2",children:"Message:"}),(0,l.jsx)(o.Z,{id:"standard-multiline-flexible",label:"Enter message",multiline:!0,maxRows:16,variant:"standard",value:i,onChange:e=>m(e.target.value)})]}),(0,l.jsx)("div",{className:"text-center",children:(0,l.jsx)("button",{type:"submit",className:"bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded-lg",children:"Submit"})})]})}}}]);