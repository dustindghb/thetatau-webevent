"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[470],{9470:function(e,t,a){a.r(t),a.d(t,{default:function(){return m}});var l=a(7437),r=a(2265),s=a(9842),n=a(5186),i=a(6827),o=a(4555),u=a(1838);async function d(e,t,a){try{let l=await (0,s.ET)((0,s.hJ)(i.db,"messages"),{name:e,email:t,message:a,timestamp:(0,s.Bt)()});return console.log("Document written with ID: ",l.id),!0}catch(e){return console.error("Error adding document:",e),!1}}function m(){let[e,t]=(0,r.useState)(""),[a,s]=(0,r.useState)(""),[i,m]=(0,r.useState)(""),[c,b]=(0,r.useState)(!1),{user:h}=(0,u.useAuth)();(0,r.useEffect)(()=>{let e=(0,n.v0)();e.currentUser?(b(!0),s(e.currentUser.email),alert("You are logged in as "+e.currentUser.displayName)):alert("You are not logged in! Please log in to submit the form.")},[]);let g=async a=>{if(a.preventDefault(),!h){alert("You are not logged in! Please log in to submit the form.");return}await d(e,h.email,i)?(t(""),m(""),alert("Submitted successfully")):alert("Failed to add data. Please try again.")};return(0,l.jsxs)("form",{onSubmit:g,className:"max-w-md mx-auto p-4 bg-white shadow-md",children:[(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("label",{htmlFor:"name",className:"block text-gray-700 font-bold mb-2",children:"Name:"}),(0,l.jsx)(o.Z,{id:"outlined-basic",label:"Enter preferred name",variant:"outlined",value:e,onChange:e=>t(e.target.value),sx:{width:"100%",maxWidth:"600px"}})]}),(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("label",{htmlFor:"message",className:"block text-gray-700 font-bold mb-2",children:"Decryption:"}),(0,l.jsx)(o.Z,{id:"filled-multiline-static",label:"Enter Decryption",multiline:!0,rows:4,variant:"filled",value:i,onChange:e=>m(e.target.value),sx:{width:"100%",maxWidth:"600px"}})]}),(0,l.jsx)("div",{className:"text-center",children:(0,l.jsx)("button",{type:"submit",className:"bg-[#852a1e] hover:bg-[#631b11] text-white font-bold py-2 px-4 rounded-lg",children:"Submit"})})]})}}}]);